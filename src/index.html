<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Quiz!</title>
    <link rel="stylesheet" href="index.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
      <div class="titleBar">
        <div class="appIcon"></div>
        <nav>
          <ul>
            <li id="TBWindow">Preferências</li>
          </ul>
        </nav>
    </div>
    <div class="flyoutOverlay" id="FOpen" onclick="closeFlyout()"></div>
    <div class="TBFlyout PrefFlyout" id="TBWF">
      <div class="option" onclick="enableAccessibiltyButtons()" id="ACSButtonInfo">Botões de acessibilidade <p class="check" id="ACSBCheck">&#x2713;</p></div>
      <div class="option" onclick="disableClock()" id="DClockInfo">Timer <p class="check" id="TCheck" style="display: none;">&#x2713;</p></div>
      <div class="option" onclick="toggleFullScreen()" id="FSOption">Tela cheia <p class="check" id="FSCheck">&#x2713;</p></div>
      <div class="option" onclick="highContrastTheme()">Alto Contraste <p class="check" id="HCCheck" style="display: none;">&#x2713;</p></div>
      <div class="option" onclick="changeTheme()" id="themeChanger">Tema escuro <p class="check" id="DTCheck" style="display: none;">&#x2713;</p></div>
      <div class="option" onclick="devKeysFlyout()" id="OpenDevKeys">Dev Keys <p class="check" id="DevOpen" style="font-size: 25px;">&#8250;</p></div>
      <div class="option" onclick="closeWindow()" id="closeElectron">Fechar janela</div>
      <div class="option">Ajuda</div>
    </div>
    <div class="TBFlyout DevFlyout" id="DevF">
      <div class="option" onclick="anotherQuestion()">Trocar questão</div>
      <div class="option" onclick="correctAnswerBTN()">Realçar botão correto</div>
    </div>

      <section class="questionSection" id="questions" style="display: none;">
        <div class="timerContainer" id="clock" style="display: none;">
          <div class="clock">
            <div class="pointerCont">
              <div class="pointer"></div>
            </div>
          </div>
        </div>
        <h1>Questão <span id="questNum">0</span></h1>
        <p id="writeQuestion">Carregando...</p>
        <div class="buttonsAlign">
          <button class="BStyle1" id="correct" onclick="correctAnswer()">
            <div class="accessButton"></div>
            <p id="a1"></p>
          </button>
          <button class="BStyle2" id="wrong1" onclick="wrongAnswer()">
            <div class="accessButton"></div>
            <p id="a2"></p>
          </button>
          <button class="BStyle3" id="wrong2" onclick="wrongAnswer()">
            <div class="accessButton"></div>
            <p id="a3"></p>
          </button>
          <button class="BStyle4" id="wrong3" onclick="wrongAnswer()">
            <div class="accessButton"></div>
            <p id="a4"></p>
          </button>
        </div>
      </section>
      <section class="imageSection" id="imgSection">
        <h1>Olhe a imagem para responder a questão</h1>
        <button class="controlButton" onclick="goToQuestion()">Ir para a questão</button>
      </section>
      <div class="progress">
        <div class="progressValue" id="progress">
          <div class="progressAnimation"></div>
        </div>
      </div>
  </body>
  <script src="./script.js"></script>
  <script>
    let isInElectron = true
    try {
      var { ipcRenderer } = require('electron')
    } catch {
      FSCheck.style.display = 'none'
      document.getElementById('FSOption').style.display = 'none'
      document.getElementById('closeElectron').style.display = 'none'
      document.getElementById('DevF').style.top = '200px'
      isInElectron = false
    }
    let isFS = true
    function toggleFullScreen() {
      let FSCheck = document.getElementById('FSCheck')
      if (isFS) {
        ipcRenderer.send('untoggleFullScreen')
        FSCheck.style.display = 'none'
        isFS = false
      } else {
        ipcRenderer.send('toggleFullScreen')
        FSCheck.removeAttribute('style')
        isFS = true
      }
      TBWindowOpen = false
    isDevOpen = false
    document.getElementById("TBWF").removeAttribute('style')
    document.getElementById("DevF").removeAttribute('style')
    document.getElementById('FOpen').removeAttribute('style')
    }

    function closeWindow() {
      ipcRenderer.send('closeQuiz')
    }

    window.addEventListener('load', anotherQuestion)
  </script>
</html>
